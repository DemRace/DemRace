var TheRace,ttt;(function(n){var e=function(){function n(){this.DefaultClintonVote=50;this.Elections=[]}return n.prototype.LoadRace=function(n){var t=new Microsoft.ApplicationInsights.Initialization({config:{instrumentationKey:"61cdc460-eec6-4fb5-a48c-83a72cddf45a"}}),i;this.applicationInsights=t.loadAppInsights();this.applicationInsights.trackPageView("Index");i=[];this.element=n;this.span=document.createElement("span");this.element.appendChild(this.span);this.TotalDelegates=4051;this.TotalDelegatesLocked=0;this.TotalDelegatesInPlay=0;this.TotalDelegatesClinton=0;this.TotalDelegatesSanders=0;this.LoadElections();this.DisplayElections()},n.prototype.LoadElections=function(){var n=new t,f;n.ElectionName="Iowa";n.Type=i.Caucus;n.TotalDelegates=44;n.TotalCongDistricts=4;f=new r;f.ElectionType=u.AtLarge;f.CongressionalDistrict=0;f.TotalDelegates=9;n.SubElections.push(f);f=new r;f.ElectionType=u.PLEO;f.CongressionalDistrict=0;f.TotalDelegates=6;n.SubElections.push(f);f=new r;f.ElectionType=u.CD;f.CongressionalDistrict=1;f.TotalDelegates=8;n.SubElections.push(f);f=new r;f.ElectionType=u.CD;f.CongressionalDistrict=2;f.TotalDelegates=8;n.SubElections.push(f);f=new r;f.ElectionType=u.CD;f.CongressionalDistrict=3;f.TotalDelegates=7;n.SubElections.push(f);f=new r;f.ElectionType=u.CD;f.CongressionalDistrict=4;f.TotalDelegates=6;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=23;n.ResultSandersDelegates=21;this.Elections.push(n);n=new t;n.ElectionName="New Hampshire";n.Type=i.Primary;n.TotalDelegates=24;n.TotalCongDistricts=2;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=9;n.ResultSandersDelegates=15;this.Elections.push(n);n=new t;n.ElectionName="Nevada";n.Type=i.Caucus;n.TotalDelegates=35;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=20;n.ResultSandersDelegates=15;this.Elections.push(n);n=new t;n.ElectionName="South Carolina";n.Type=i.Primary;n.TotalDelegates=53;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=39;n.ResultSandersDelegates=14;this.Elections.push(n);n=new t;n.ElectionName="Democrats Abroad";n.Type=i.Primary;n.TotalDelegates=13;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Alabama";n.Type=i.Primary;n.TotalDelegates=53;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=44;n.ResultSandersDelegates=9;this.Elections.push(n);n=new t;n.ElectionName="American Samoa";n.Type=i.Caucus;n.TotalDelegates=6;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=4;n.ResultSandersDelegates=2;this.Elections.push(n);n=new t;n.ElectionName="Arkansas";n.Type=i.Primary;n.TotalDelegates=32;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=22;n.ResultSandersDelegates=10;this.Elections.push(n);n=new t;n.ElectionName="Colorado";n.Type=i.Caucus;n.TotalDelegates=66;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=28;n.ResultSandersDelegates=38;this.Elections.push(n);n=new t;n.ElectionName="Georgia";n.Type=i.Primary;n.TotalDelegates=102;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=74;n.ResultSandersDelegates=28;this.Elections.push(n);n=new t;n.ElectionName="Massachusetts";n.Type=i.Primary;n.TotalDelegates=91;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=45;n.ResultSandersDelegates=46;this.Elections.push(n);n=new t;n.ElectionName="Minnesota";n.Type=i.Caucus;n.TotalDelegates=77;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=31;n.ResultSandersDelegates=46;this.Elections.push(n);n=new t;n.ElectionName="Oklahoma";n.Type=i.Primary;n.TotalDelegates=38;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=17;n.ResultSandersDelegates=21;this.Elections.push(n);n=new t;n.ElectionName="Tennessee";n.Type=i.Primary;n.TotalDelegates=67;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=44;n.ResultSandersDelegates=23;this.Elections.push(n);n=new t;n.ElectionName="Texas";n.Type=i.Primary;n.TotalDelegates=222;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=146;n.ResultSandersDelegates=76;this.Elections.push(n);n=new t;n.ElectionName="Vermont";n.Type=i.Primary;n.TotalDelegates=16;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=0;n.ResultSandersDelegates=16;this.Elections.push(n);n=new t;n.ElectionName="Virginia";n.Type=i.Primary;n.TotalDelegates=95;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=62;n.ResultSandersDelegates=33;this.Elections.push(n);n=new t;n.ElectionName="Kansas";n.Type=i.Caucus;n.TotalDelegates=33;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=10;n.ResultSandersDelegates=23;this.Elections.push(n);n=new t;n.ElectionName="Louisiana";n.Type=i.Primary;n.TotalDelegates=51;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=39;n.ResultSandersDelegates=12;this.Elections.push(n);n=new t;n.ElectionName="Nebraska";n.Type=i.Caucus;n.TotalDelegates=25;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=10;n.ResultSandersDelegates=15;this.Elections.push(n);n=new t;n.ElectionName="Maine";n.Type=i.Caucus;n.TotalDelegates=25;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=9;n.ResultSandersDelegates=16;this.Elections.push(n);n=new t;n.ElectionName="Michigan";n.Type=i.Primary;n.TotalDelegates=130;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=61;n.ResultSandersDelegates=69;this.Elections.push(n);n=new t;n.ElectionName="Mississippi";n.Type=i.Primary;n.TotalDelegates=36;n.TotalCongDistricts=4;n.SubElections.push(f);n.ElectionLocked=!0;n.ResultClintonDelegates=32;n.ResultSandersDelegates=4;this.Elections.push(n);n=new t;n.ElectionName="Northern Mariana Islands";n.Type=i.Caucus;n.TotalDelegates=6;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Florida";n.Type=i.Primary;n.TotalDelegates=214;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Illinois";n.Type=i.Primary;n.TotalDelegates=156;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Missouri";n.Type=i.Primary;n.TotalDelegates=71;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="North Carolina";n.Type=i.Primary;n.TotalDelegates=107;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Ohio";n.Type=i.Primary;n.TotalDelegates=143;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Arizona";n.Type=i.Primary;n.TotalDelegates=75;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Idaho";n.Type=i.Caucus;n.TotalDelegates=23;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Utah";n.Type=i.Caucus;n.TotalDelegates=33;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Alaska";n.Type=i.Caucus;n.TotalDelegates=16;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Hawaii";n.Type=i.Caucus;n.TotalDelegates=25;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Washington";n.Type=i.Caucus;n.TotalDelegates=101;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Wisconsin";n.Type=i.Primary;n.TotalDelegates=86;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Wyoming";n.Type=i.Caucus;n.TotalDelegates=14;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="New York";n.Type=i.Primary;n.TotalDelegates=247;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Connecticut";n.Type=i.Primary;n.TotalDelegates=55;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Delaware";n.Type=i.Primary;n.TotalDelegates=21;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Maryland";n.Type=i.Primary;n.TotalDelegates=95;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Pennsylvania";n.Type=i.Primary;n.TotalDelegates=189;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Rhode Island";n.Type=i.Primary;n.TotalDelegates=24;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Indiana";n.Type=i.Primary;n.TotalDelegates=83;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Guam";n.Type=i.Caucus;n.TotalDelegates=7;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="West Virginia";n.Type=i.Primary;n.TotalDelegates=29;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Kentucky";n.Type=i.Primary;n.TotalDelegates=55;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Oregon";n.Type=i.Primary;n.TotalDelegates=61;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Virgin Islands";n.Type=i.Caucus;n.TotalDelegates=7;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Puerto Rico";n.Type=i.Primary;n.TotalDelegates=60;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="California";n.Type=i.Primary;n.TotalDelegates=475;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="Montana";n.Type=i.Primary;n.TotalDelegates=21;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="New Jersey";n.Type=i.Primary;n.TotalDelegates=126;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="New Mexico";n.Type=i.Primary;n.TotalDelegates=34;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="North Dakota";n.Type=i.Primary;n.TotalDelegates=18;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="South Dakota";n.Type=i.Primary;n.TotalDelegates=20;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n);n=new t;n.ElectionName="District of Columbia";n.Type=i.Primary;n.TotalDelegates=20;n.TotalCongDistricts=4;n.SubElections.push(f);this.Elections.push(n)},n.prototype.DisplayElections=function(){for(var n in this.Elections)this.UpdateElection(n,!0,"");this.DisplayTotals()},n.prototype.winnerClass=function(n,t){return n==t?"":n>t?"Clinton-Win":"Sanders-Win"},n.prototype.getPercentage=function(n){return(n*100).toFixed(2)+"%"},n.prototype.DisplayTotals=function(){var u=0,f=0,h=0,n=0,t=0,i=0,e=0,o=0,s=0;for(var r in this.Elections)this.Elections[r].ElectionLocked?(u+=this.Elections[r].ResultClintonDelegates,n+=this.Elections[r].ResultClintonDelegates,f+=this.Elections[r].ResultSandersDelegates,t+=this.Elections[r].ResultSandersDelegates):(u+=this.Elections[r].ProjectedClintonDelegates,e+=this.Elections[r].ProjectedClintonDelegates,f+=this.Elections[r].ProjectedSandersDelegates,o+=this.Elections[r].ProjectedSandersDelegates),h+=this.Elections[r].TotalDelegates;i=n+t;s=e+o;var c=document.getElementById("Row-Totals-Committed-Spread"),v=document.getElementById("Row-S-Totals-Committed-Spread"),l=document.getElementById("Row-Totals-Projected-Spread"),a=document.getElementById("Row-Totals-Spread");document.getElementById("Row-Totals-Committed-C").innerHTML=n.toString()+"<sup> "+this.getPercentage(n/i)+"<sup>";document.getElementById("Row-Totals-Committed-S").innerHTML=t.toString()+"<sup> "+this.getPercentage(t/i)+"<sup>";document.getElementById("Row-Totals-Committed-A").innerHTML=i.toString()+"<sup> "+this.getPercentage(i/4051)+"<sup>";c.innerHTML=this.diff(n,t)+"<sup> "+this.getPercentage(this.diffn(n,t)/i)+"<sup>";c.className=this.winnerClass(n,t);document.getElementById("Row-S-Totals-Committed-C").innerHTML=n.toString()+"<sup> "+this.getPercentage(n/i)+"<sup>";document.getElementById("Row-S-Totals-Committed-S").innerHTML=t.toString()+"<sup> "+this.getPercentage(t/i)+"<sup>";document.getElementById("Row-S-Totals-Committed-A").innerHTML=i.toString()+"<sup> "+this.getPercentage(i/4051)+"<sup>";v.innerHTML=this.diff(n,t)+"<sup> "+this.getPercentage(this.diffn(n,t)/i)+"<sup>";document.getElementById("Row-Totals-Projected-C").innerHTML=e.toString()+"<sup> "+this.getPercentage(e/s)+"<sup>";document.getElementById("Row-Totals-Projected-S").innerHTML=o.toString()+"<sup> "+this.getPercentage(o/s)+"<sup>";document.getElementById("Row-Totals-Projected-A").innerHTML=s.toString()+"<sup> "+this.getPercentage(s/4051)+"<sup>";l.innerHTML=this.diff(e,o)+"<sup> "+this.getPercentage(this.diffn(e,o)/s)+"<sup>";l.className=this.winnerClass(e,o);document.getElementById("Row-Totals-C").innerHTML=u.toString()+"<sup> "+this.getPercentage(u/4051)+"<sup>";document.getElementById("Row-Totals-S").innerHTML=f.toString()+"<sup> "+this.getPercentage(f/4051)+"<sup>";document.getElementById("Row-Totals-A").innerHTML=h.toString();a.innerHTML=this.diff(u,f)+"<sup> "+this.getPercentage(this.diffn(u,f)/4051)+"<sup>";a.className=this.winnerClass(u,f);document.getElementById("Row-Totals2").className=this.winnerClass(u,f);document.getElementById("Row-Totals-Winner").innerHTML=u>f?"Clinton Wins Majority!":"Sanders Wins Majority!"},n.prototype.CalcElection=function(n,t,i){var r=new f,e,o,u,s,h;return i<15?(r.ClintonDelegates=n,r.SandersDelegates=0):t<15?(r.SandersDelegates=n,r.ClintonDelegates=0):(e=n*(t/100),o=n*(i/100),r.ClintonDelegates=Math.floor(e),r.SandersDelegates=Math.floor(o),u=n-(r.ClintonDelegates+r.SandersDelegates),u>0&&(s=e-r.ClintonDelegates,h=o-r.SandersDelegates,h==s?(r.CoinToss=!0,Math.floor(Math.random()*2)==0?r.ClintonDelegates+=u:r.SandersDelegates+=u):s>h?r.ClintonDelegates+=u:r.SandersDelegates+=u)),r.VoteWinner=t==i?0:t<i?1:2,r.DelegateWinner=r.ClintonDelegates==r.SandersDelegates?0:r.ClintonDelegates>r.SandersDelegates?1:2,r},n.prototype.diff=function(n,t){return n==t?"0":n>t?"C +"+Math.abs(n-t).toString():"S +"+Math.abs(n-t).toString()},n.prototype.diffn=function(n,t){return n==t?0:n>t?Math.abs(n-t):Math.abs(n-t)},n.prototype.UpdateElection=function(n,t,i){var r=this.Elections[n],o=document.getElementById("Row-"+r.ElectionName.replace(" ","_").replace(" ","_")+"-C"),s=document.getElementById("Row-"+r.ElectionName.replace(" ","_").replace(" ","_")+"-S"),e=document.getElementById("Row-"+r.ElectionName.replace(" ","_").replace(" ","_")+"-Spread"),h=document.getElementById("Row-"+r.ElectionName.replace(" ","_").replace(" ","_")+"-Projection"),c=document.getElementById("Row-"+r.ElectionName.replace(" ","_").replace(" ","_")+"-Projection-S"),l=document.getElementById("Row-"+r.ElectionName.replace(" ","_").replace(" ","_")+"-Projection-C"),u;this.Elections[n].ElectionLocked?(o.innerHTML=r.ResultClintonDelegates.toString(),s.innerHTML=r.ResultSandersDelegates.toString(),h.innerHTML="Locked",e.innerHTML=this.diff(r.ResultClintonDelegates,r.ResultSandersDelegates),u=new f,u.DelegateWinner=r.ResultClintonDelegates==r.ResultSandersDelegates?0:r.ResultClintonDelegates>r.ResultSandersDelegates?1:2,e.className=u.DelegateWinner==0?"":u.DelegateWinner==1?"Clinton-Win":"Sanders-Win"):(u=this.CalcElection(r.TotalDelegates,r.ProjectedClintonVotePercentage,r.ProjectedSandersVotePercentage),r.ProjectedSandersDelegates=u.SandersDelegates,r.ProjectedClintonDelegates=u.ClintonDelegates,o.innerHTML=r.ProjectedClintonDelegates.toString(),s.innerHTML=r.ProjectedSandersDelegates.toString(),h.innerHTML='<input type="range"  step=".01" value="'+r.ProjectedSandersVotePercentage+'" oninput"ttt.ProjectStateDelegates(\''+n+"', this.value);\" onchange=\"ttt.ProjectStateDelegates('"+n+"', this.value);\" > ",i!="C"&&(l.innerHTML='<input type="number" name="quantity" min="1" max="100" value="'+r.ProjectedClintonVotePercentage.toFixed(3)+'" oninput="ttt.ProjectStateDelegates(\''+n+"', 100 - this.value, 'C');\" >"),i!="S"&&(c.innerHTML='<input type="number" name="quantity" min="1" max="100" value="'+r.ProjectedSandersVotePercentage.toFixed(3)+'" oninput="ttt.ProjectStateDelegates(\''+n+"', this.value, 'S');\">"),e.innerHTML=this.diff(r.ProjectedClintonDelegates,r.ProjectedSandersDelegates)+(u.CoinToss?"<sup>*CT<\/sup>":""),u.VoteWinner==0?"":u.VoteWinner==1?"Clinton Winner":"Sanders Winner",e.className=u.DelegateWinner==0?"":u.DelegateWinner==1?"Clinton-Win":"Sanders-Win");t||this.applicationInsights.trackEvent("Projection",{State:this.Elections[n].ElectionName},{ProjectedClintonVotePercentage:this.Elections[n].ProjectedClintonVotePercentage.toFixed(3),ProjectedSandersVotePercentage:this.Elections[n].ProjectedSandersVotePercentage.toFixed(3),ProjectedClintonDelegates:this.Elections[n].ProjectedClintonDelegates,ProjectedSandersDelegates:this.Elections[n].ProjectedSandersDelegates})},n.prototype.ProjectStateDelegates=function(n,t,i){this.Elections[n].ProjectedSandersVotePercentage=Number(t);this.Elections[n].ProjectedSandersDelegates=Math.round(this.Elections[n].TotalDelegates*(t/100));this.Elections[n].ProjectedClintonVotePercentage=100-t;this.Elections[n].ProjectedClintonDelegates=Math.round(this.Elections[n].TotalDelegates*((100-t)/100));this.UpdateElection(n,!1,i);this.DisplayTotals()},n}(),t,i,r,f,u;n.TheRace1=e;t=function(){function n(){this.ResultClintonVotepercentage=0;this.ResultSandersVotepercentage=0;this.ProjectedClintonDelegates=0;this.ProjectedSandersDelegates=0;this.ProjectedClintonVotePercentage=50;this.ProjectedSandersVotePercentage=50;this.SubElections=[]}return n}();n.Election=t,function(n){n[n.Caucus=0]="Caucus";n[n.Primary=1]="Primary"}(n.ElectionType||(n.ElectionType={}));i=n.ElectionType;r=function(){function n(){}return n}();n.SubElection=r;f=function(){function n(){this.ClintonDelegates=0;this.SandersDelegates=0;this.VoteWinner=0;this.DelegateWinner=0;this.CoinToss=!1}return n}();n.ElectionResult=f,function(n){n[n.CD=3]="CD";n[n.AtLarge=1]="AtLarge";n[n.PLEO=2]="PLEO"}(n.SubElectionType||(n.SubElectionType={}));u=n.SubElectionType})(TheRace||(TheRace={}));ttt=new TheRace.TheRace1;window.onload=function(){ttt.LoadRace(document.getElementById("contentTheRace"))};